DROP TABLE IF EXISTS customer_account;
DROP TABLE IF EXISTS account;
DROP TABLE IF EXISTS account_transactions;

CREATE TABLE account (
  account_no BIGINT,
  account_name VARCHAR(20) NOT NULL,
  account_type VARCHAR(10) NOT NULL,
  account_currency CHAR(3) NOT NULL,
  account_balance DOUBLE,
  create_ts TIMESTAMP,
  update_ts TIMESTAMP,
  PRIMARY KEY(account_no)
);
CREATE TABLE customer_account (
  customer_no INT,
  account_no BIGINT,
  create_ts TIMESTAMP,
  update_ts TIMESTAMP,
  PRIMARY KEY(customer_no,account_no),
  FOREIGN KEY(account_no) REFERENCES account(account_no)
);

CREATE TABLE account_transactions (
  transaction_no INT auto_increment PRIMARY KEY ,
  account_no BIGINT,
  account_name VARCHAR(20) NOT NULL,
  transaction_currency CHAR(3) NOT NULL,
  transaction_amount FLOAT NOT NULL,
  transaction_type VARCHAR(10) NOT NULL,
  transaction_notes VARCHAR(100) NOT NULL,
  create_ts TIMESTAMP,
  update_ts TIMESTAMP,
  FOREIGN KEY(account_no) REFERENCES account(account_no)
);

INSERT INTO account (account_no, account_name, account_type,account_currency,account_balance,create_ts,update_ts) VALUES
  (585309209, 'SGSavings726', 'Savings','SGD',84327.51,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (791066619, 'AUSavings933', 'Savings','AUD',88005.93,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (321143048, 'AUCurrent433', 'Current','AUD',38010.62,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (347786244, 'SGCurrent166', 'Current','SGD',50664.65,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (680168913, 'AUCurrent374', 'Savings','AUD',41327.28,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (136056165, 'AUSavings938', 'Savings','AUD',48928.79,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (453963528, 'SGSavings842', 'Savings','SGD',72117.53,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (334666982, 'AUSavings253', 'Savings','AUD',20588.16,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (793949180, 'AUCurrent754', 'Current','AUD',88794.48,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (768759901, 'SGCurrent294', 'Current','SGD',5906.55,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (847257972, 'AUCurrent591', 'Current','AUD',92561.68,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'AUCurrent591', 'Current','SGD',99561.68,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP);
INSERT INTO account_transactions (account_no, account_name,transaction_currency,transaction_amount,transaction_type,transaction_notes,create_ts,update_ts) VALUES
  (1232223212, 'Current Account', 'SGD',9540.98,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',7497.82,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',5564.79,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',8136.18,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',9442.46,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',7614.45,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',3311.55,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',9186.09,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',1905.86,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',197.78,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',8430.49,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (1232223212, 'Current Account', 'SGD',8.33,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (585309209, 'Savings Account', 'SGD',28.39,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (791066619, 'Savings Account', 'SGD',182.53,'Debit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (321143048, 'Current Account', 'SGD',81.39,'Credit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (347786244, 'Current Account', 'SGD',6.06,'Debit','Sample Notes',CURRENT_TIMESTAMP,CURRENT_TIMESTAMP);
INSERT INTO customer_account (customer_no , account_no , create_ts , update_ts) VALUES
  (11112222, 585309209, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 791066619, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 321143048, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 347786244, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 680168913, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 136056165, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 453963528, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 334666982, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 793949180, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 768759901, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 847257972, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP),
  (11112222, 1232223212, CURRENT_TIMESTAMP,CURRENT_TIMESTAMP);
